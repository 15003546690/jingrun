webpackJsonp([70],{SK2g:function(e,a,t){var i=t("n2ig");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t("FIqI")("ed2f9d74",i,!0,{})},aZvl:function(e,a,t){"use strict";function i(e){t("SK2g")}Object.defineProperty(a,"__esModule",{value:!0});var n=t("uk30"),r=t("d2G2"),o=t("C7Lr"),s=i,l=o(n.a,r.a,!1,s,"data-v-5da3c5d8",null);a.default=l.exports},d2G2:function(e,a,t){"use strict";var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"inforMation"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,headers:{Authorization:this.$store.state.token},"show-file-list":!1,"on-success":e.handleAvatarSuccess,accept:"image/gif,image/jpeg,image/jpg,image/png",data:e.upload,"before-upload":e.beforeAvatarUpload}},[t("p",{staticClass:"inforMation_p"},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imageUrl,expression:"imageUrl"}],staticClass:"avatar",attrs:{title:e.message}})]),e._v(" "),t("i",{staticClass:"el-icon-plus avatar-uploader-icon upLoader"},[e._v("上传头像")])]),e._v(" "),t("ul",{staticClass:"inforList"},[t("li",[t("span",[e._v("用户名")]),e._v(" "),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.nickName,expression:"nickName"}],staticClass:"name",attrs:{type:"text",placeholder:"编辑",id:"name",maxlength:"11"},domProps:{value:e.nickName},on:{input:function(a){a.target.composing||(e.nickName=a.target.value)}}}),e._v(" "),t("span",[e._v(e._s(e.nick))])])]),e._v(" "),t("li",[t("span",[e._v("性别")]),e._v(" "),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.sex,expression:"sex"}],attrs:{type:"radio",value:"0",name:"a",id:"man"},domProps:{checked:e._q(e.sex,"0")},on:{change:function(a){e.sex="0"}}}),e._v("    男    \n                  \t"),t("input",{directives:[{name:"model",rawName:"v-model",value:e.sex,expression:"sex"}],attrs:{type:"radio",value:"1",id:"woman"},domProps:{checked:e._q(e.sex,"1")},on:{change:function(a){e.sex="1"}}}),e._v("   女   \n            \t")])]),e._v(" "),t("li",[t("span",[e._v("真实姓名")]),e._v(" "),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.realName,expression:"realName"}],staticClass:"name",attrs:{type:"text",placeholder:"编辑",id:"Realname",size:"10",maxlength:"8"},domProps:{value:e.realName},on:{input:function(a){a.target.composing||(e.realName=a.target.value)}}}),e._v(" "),t("span",{staticStyle:{"font-size":"12px",color:"#f00","margin-left":"5px"}},[e._v(e._s(e.nameText))])])]),e._v(" "),t("li",[t("span",[e._v("邮箱")]),e._v(" "),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.sendEmail,expression:"sendEmail"}],staticClass:"name",attrs:{type:"email",placeholder:"编辑",id:"eMail"},domProps:{value:e.sendEmail},on:{keyup:e.Email,input:function(a){a.target.composing||(e.sendEmail=a.target.value)}}}),e._v(" "),t("span",{staticStyle:{"font-size":"12px",color:"#f00","margin-left":"5px"}},[e._v(e._s(e.emailText))])])]),e._v(" "),t("li",[t("span",[e._v("教育情况")]),e._v(" "),t("div",[t("select",{directives:[{name:"model",rawName:"v-model",value:e.education,expression:"education"}],staticClass:"eduInfro",attrs:{id:"eduCation"},on:{change:function(a){var t=Array.prototype.filter.call(a.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.education=a.target.multiple?t:t[0]}}},[t("option",{attrs:{value:"1"}},[e._v("小学以下")]),e._v(" "),t("option",{attrs:{value:"2"}},[e._v("初中")]),e._v(" "),t("option",{attrs:{value:"3"}},[e._v("高中")]),e._v(" "),t("option",{attrs:{value:"4"}},[e._v("中专")]),e._v(" "),t("option",{attrs:{value:"5"}},[e._v("大专")]),e._v(" "),t("option",{attrs:{value:"6"}},[e._v("本科")]),e._v(" "),t("option",{attrs:{value:"7"}},[e._v("研究生")]),e._v(" "),t("option",{attrs:{value:"8"}},[e._v("博士及以上")])])]),e._v(" "),t("input",{staticClass:"submit",attrs:{type:"button",value:"确定"},on:{click:function(a){e.subMit()}}})])]),e._v(" "),e.alert?t("alert",{attrs:{text:e.alertText},on:{yes:e.yes}}):e._e()],1)},n=[],r={render:i,staticRenderFns:n};a.a=r},n2ig:function(e,a,t){a=e.exports=t("UTlt")(!1),a.push([e.i,"#year[data-v-5da3c5d8]{display:inline-block}select[data-v-5da3c5d8]{color:#777}img[data-v-5da3c5d8]{width:100px;height:100px}#inforMation[data-v-5da3c5d8]{font-size:14px;color:#777}.inforMation_p[data-v-5da3c5d8]{width:118px;height:118px;line-height:118px;margin-bottom:22px}.inforMation_p>img[data-v-5da3c5d8]{width:100%;height:100%;vertical-align:middle}.inforList[data-v-5da3c5d8]{display:inline-block}ul>li[data-v-5da3c5d8]{width:500px;height:36px;margin-top:10px;font-size:14px;color:#777}ul>li>span[data-v-5da3c5d8]{width:74px;height:36px;text-align:right;line-height:36px;display:block;float:left}ul>li>div[data-v-5da3c5d8]{width:410px;height:36px;text-align:left;line-height:36px;float:right}.name[data-v-5da3c5d8]{height:34px;line-height:34px;border:none}.submit[data-v-5da3c5d8]{width:75px;height:27px;border-radius:2px;background:#e52735;outline:none;border:none;font-size:14px;color:#fff;margin-top:42px;cursor:pointer;margin-left:60px}.avatar-uploader .el-upload[data-v-5da3c5d8]{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload[data-v-5da3c5d8]:hover{border-color:#409eff}.avatar-uploader-icon[data-v-5da3c5d8]{font-size:28px;color:#8c939d;width:100px;height:100px;line-height:100px;text-align:center;border:1px solid #d9d9d9}.avatar[data-v-5da3c5d8]{width:118px;height:118px;border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%}.upLoader[data-v-5da3c5d8]{width:70px;height:24px;line-height:24px;border-radius:2px;-moz-border-radius:2px;-webkit-border-radius:2px;background:none;border:1px solid #a4a4a4;font-size:12px;color:#676767;margin-left:-6px;outline:none;cursor:pointer;display:inline-table}.el-icon-plus[data-v-5da3c5d8]:before{content:normal}.inforList[data-v-5da3c5d8]{clear:both}.inforName>p[data-v-5da3c5d8]{color:#323232;text-align:right}.inforMain>p>input[data-v-5da3c5d8]{border:0}.el-date-editor[data-v-5da3c5d8]{width:200px!important}.eduInfro[data-v-5da3c5d8]{width:200px;height:30px;outline:none;border-radius:3px;border:1px solid #bcbcbb}.el-upload[data-v-5da3c5d8]{text-align:left!important;z-index:2}",""])},uk30:function(e,a,t){"use strict";(function(e){var i=t("3cXf"),n=t.n(i),r=t("ib+B");a.a={components:{alert:r.a},data:function(){return{message:"请完善个人资料 ",hsa:!0,value5:"",perInfromation:{},birthday:null,nickName:"",realName:null,sendEmail:null,education:"请选择",imageUrl:"",upload:{upload:null},headSculpture:null,sex:null,alert:!1,alertText:"",emailText:null,nameText:null,nick:"",yesType:"",uploadUrl:this.$base_url+"/share/v1/ditctArea/api/v1/fileUploadAPP"}},created:function(){var e=this;setTimeout(function(){e.userInfor()},50),this.$Bury(window.location.href,"",0,"zhanghushezhi_03012")},watch:{realName:function(){this.realName.length>8&&(this.nameText="名字长度不能大于8")}},methods:{Email:function(){/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(this.sendEmail)||""==this.sendEmail?this.emailText="":this.emailText="请输入正确的电子邮箱"},yes:function(){switch(this.yesType){case"success":this.updataUserInfo()}},userInfor:function(){var e=this;this.$CPOST("account/v1/userInfo/queryUserInfo",{},function(a){e.education=a.resultValue.education,e.realName=a.resultValue.realname,e.sex=a.resultValue.sex,e.imageUrl=a.resultValue.img,e.sendEmail=a.resultValue.email,e.nickName=a.resultValue.nickname})},updataUserInfo:function(){var e=this;this.$CPOST("/account/v1/userInfo/queryUserInfoForUpdate",{},function(a){var t={userImg:a.resultValue.img,userNickName:a.resultValue.nickName,userGrade:a.resultValue.grade},i=n()(t);window.localStorage.setItem("user",i),e.$store.commit("setUserImg",t.userImg),e.$store.commit("setUserNickName",t.userNickName),e.$store.commit("setUserGrade",t.userGrade)})},handleAvatarSuccess:function(e,a){this.imageUrl=URL.createObjectURL(a.raw),this.headSculpture=e.resultValue.url},beforeAvatarUpload:function(e){this.upload.upload=e;var a="image/jpeg"===e.type||"image/png",t=e.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG/png 格式!"),t||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&t},fsdfsd:function(){return phone=phone.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2"),phone},dataBack:function(){var e=this;this.$CPOST("/event/v1/userInfo/queryUserInfoForUpdate",{},function(a){e.perInfromation=a})},alertDailog:function(a){this.alert=!0,e(".confirm_modal").show(),this.alertText=a},subMit:function(){var e=this;""==this.nickName?this.nick="请输入昵称":"请输入正确的电子邮箱"==this.emailText?(this.alert=!0,this.alertText="修改失败"):this.$CPOST("/account/v1/userInfo/updateUserInformation",{education:this.education,email:this.sendEmail,headSculpture:this.headSculpture,nickName:this.nickName,realName:this.realName,sex:this.sex},function(a){e.yesType="success",e.alertDailog("修改成功")})}}}}).call(a,t("L7Pj"))}});